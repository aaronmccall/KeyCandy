var DOMSmack=function(){function d(a,b,c){if(a.prototype&&(!a.length||!a.splice)){var d=a.prototype;d.splice=[].splice,d.length=0}if(!b||!b.length)return;b=(c?h(a):[]).concat(h(b)),f(b,function(b,c){a[c]=b}),a.length=b.length}function e(b,d,g){var h=a.some?function(b,c){return a.some.call(b,c,g)}:function(a,b,d){var e=!1;return f(a||[],function(a,f,g){if(e||(e=b.call(d,a,f,g)))return c},d),!!e};return e=h,h(b,d,g)}function f(b,d,e){var g=typeof a.forEach=="function"?function(b,c,d){a.forEach.call(b,c,d)}:function(a,b,d){for(var e=0,f=a.length;e<f;e++)if(e in a&&b.call(d,a[e],e,a)===c)return};return f=g,g(b,d,e)}function g(b,c){var d=typeof a.indexOf=="function"?function(b,c){return a.indexOf.call(b,c)}:function(a,b){for(var c=0,d=a.length;c<d;c++)if(a[c]===b)return c;return-1};return g=d,d(b,c)}function h(b,c,d){return a.slice.call(b,c,d)}function i(a,c){var d=h(arguments,2);d.unshift(a);if(typeof c!="function"||typeof c.call!="function")throw Error("func is not a function");return c.bind&&b&&b===c.bind?b.apply(c,d):function(){c.apply&&c.apply(a,d.concat(h(arguments)))}}function j(a){return(""+a).toLowerCase()}function k(a){return new RegExp("\\b"+a+"\\b")}function n(a){if(typeof a=="string")this.els=h(document.querySelectorAll(a));else if(a instanceof n||a instanceof NodeList)this.els=h(a);else if(a.nodeType&&a.nodeType===1||a===window||a===document)this.els=[a];this.el=this.els[0],d(this,this.els)}function p(a,b){var c=!1,d=j(a.tagName),e=j(b),f;if(~b.indexOf(",")){f=e.split(/,\s*/g);for(var g=0,h=f.length;g<h;g++){if(f[g]===d)return!0;if(f[g].indexOf(":")===0&&f[g].substr(1)===j(a.type))return!0}}return e===d}function q(a,b,c){var d=a.addEventListener?function(a,b,c){return a.addEventListener(b,c,!1),c}:function(a,b,c){var d=function(){c.call(a,window.event)};return a.attachEvent("on"+b,d),d};return q=d,d(a,b,c)}function r(a,b,c){var d=document.removeEventListener?function(a,b,c){a.removeEventListener&&a.removeEventListener(b,c,!1)}:function(a,b,c){a.detachEvent&&a.detachEvent("on"+b,c)};r=d,d(a,b,c)}function s(a,b){return b in a&&a[b](),this}function v(){var a=document.createElement("div"),b,c;return a.innerHTML='<a href="#"></a>',a.childNodes[0].getAttribute("href")==="#"?(b=function(){return!0},v=b,!0):(a=null,b=function(){return!1},v=b,!1)}function w(a,b,c){var d=v()?function(a,b,c){return a.setAttribute(b,c)}:function(a,b,c){return t[b]&&(b=t[b]),b==="value"&&element.nodeAttr==="BUTTON"?element.getAttributeNode(b).nodeValue=value:element.setAttribute(b,value)};return w=d,d(a,b,c)}function x(a,b){var c=v()?function(a,b){return a.getAttribute(b)}:function(a,b){return t[b]&&(b=t[b]),u[b]?a.getAttribute(b,2):b==="value"&&a.nodeName==="BUTTON"?a.getAttributeNode(b).nodeValue:a.getAttribute(b)};return x=c,c(a,b)}function y(a,b){var c=v()?function(a,b){if(!a.nodeType||!~"19".indexOf(""+a.nodeType))return;w(a,b,""),a.removeAttributeNode(a.getAttributeNode(b))}:function(a,b){a.removeAttribute(b)};return y=c,c(a,b)}function z(a,b,c){var d=t[b]?t[b]:b;if(d in a)return typeof c===undefined?a[d]:(a[d]=c,this)}function k(a){return new RegExp("\\b"+a+"\\b")}function A(a,b){return k(b).test(a.className)}function B(a,b){var c;A(a,b)||(c=(a.className||"").split(/\s+/g),c.push(b),a.className=c.join(" "))}function C(a,b){a.className=a.className.replace(k(b),"").replace(/^\s+|\s+$/g,"")}function D(a,b){return A(a,b)?C(a,b):B(a,b)}function E(a){return new n(a)}var a=Array.prototype,b=Function.prototype.bind,c={},l=[],m={},o=n.prototype;d(n),o.is=function(a){return this.length===1?p(this.el,a):e(this.els,function(b){p(b,a)&&(isit=!0)},this)},o.bind=function(a,b){var c;return f(this.els,function(d,e){g(l,d)<0&&l.push(d),c=g(l,d),m[c]=m[c]||{},m[c][a]=m[c][a]||[],g(m[c][a],b)<0&&(q(d,a,b),m[c][a].push(b))},this),this},o.unbind=function(a,b){return f(this.els,function(c){r(c,a,b)}),this},o.trigger=function(a){return f(this.els,function(b){s(b,a)}),this},o.one=function(a,b){f(this.els,function(c){var d=i(c,b),e,f=function(b){d(b),r(c,a,e)};e=q(c,a,f)})};var t={tabindex:"tabIndex",readonly:"readOnly","for":"htmlFor","class":"className",maxlength:"maxLength",cellspacing:"cellSpacing",cellpadding:"cellPadding",rowspan:"rowSpan",colspan:"colSpan",usemap:"useMap",frameborder:"frameBorder",contenteditable:"contentEditable"},u={width:1,height:1,src:1,href:1};return o.attr=function(a,b){return b===undefined?x(this.el,a):(f(this.els,function(c){b===null?y(c,a):w(c,a,b)}),this)},o.prop=function(a,b){return b===undefined?z(this.el,a):(f(this.els,function(c){z(c,a,b)},this),this)},o.hasClass=function(a){return e(this.els,function(b){return A(b,a)},this)},o.addClass=function(a){return f(this.els,function(b){B(b,a)},this),this},o.removeClass=function(a){return f(this.els,function(b){C(b,a)},this),this},o.toggleClass=function(a){return f(this.els,function(b){D(b,a)}),this},o.html=function(a){return f(this.els,function(b){b.innerHTML=a}),this},E}(),KEYCANDY_DOM_LIB=DOMSmack;KeyCandy=function(a,b){var c=navigator.userAgent,d=/Linux|Windows|Macintosh/.exec(c).toString().toLowerCase(),e=c.indexOf("WebKit")>-1?"webkit":/Gecko|MSIE|Opera/.exec(c).toString().toLowerCase(),f={macintosh:91,linux:17,windows:17},g,h="keycandy",i="removeClass",j="body",k=f[d]?f[d]:17,l=!1,m={"⇧":16,shift:16,option:18,"⌥":18,alt:18,ctrl:17,control:17,command:91,"⌘":91},n="alt",o={16:!1,17:!1,18:!1,91:!1},p={windows:"ctrl",linux:"ctrl",macintosh:String.fromCharCode(parseInt("2318",16))},q=function(c){var d=c.target,f=a(g||j),p=d.tagName.toLowerCase(),q=a(d),r=c.keyCode,s=o[k]||!l,t=r>47&&r<58||r>64&&r<91||r>96&&r<123,u=t?'[accesskey="'+String.fromCharCode(r)+'"]':null,v=u?a(u):null,w,x,y=function(a){var b=!1;if(document.createEvent){var c=document.createEvent("MouseEvents");c.initMouseEvent("click",!0,!0,window,0,0,0,0,0,!1,!1,!1,!1,0,null),b=!a.dispatchEvent(c)}else a.fireEvent&&(b=!a.fireEvent("onclick"));!b&&a.href&&(window.location=a.href)};if(r==93||r==224)r=91;r==17&&window.opera&&k==91&&c.ctrlKey===!1&&(r=91),o[r]!==b&&(o[r]=!0),x=(/^(sel|tex)/.test(p)||p==="input"&&/^(tex|pas|ema|sea|tel|url|dat)/.test(d.type))&&!o[m[n]];if(r===k&&!x)f.toggleClass(h);else if(s&&!x){if(t&&v.length){v=v.is("label")?a("#"+v.attr("for")):v;var z=v[0],A=z.tagName.toLowerCase(),B=v.is(":text, :password, textarea, select")?"focus":"click";A=="a"&&z.href?y(z):A=="select"&&e=="gecko"&&p!="select"&&function(a,b){setTimeout(function(){a.selectedIndex=b},0)}(z,z.selectedIndex),c.stopPropagation(),c.preventDefault(),v.trigger(B)}f[i](h)}},r=function(a){var b=a.keyCode;if(b==93||b==224)b=91;window.opera&&b==17&&a.ctrlKey===!1&&(b=91),b in o&&(o[b]=!1)};return{version:"1.0",init:function(b){b||(b={}),b.ctrlKey&&(k=b.ctrlKey),b.reqCtrlKey&&(l=b.reqCtrlKey),b.modKey&&m[b.modKey]&&(n=b.modKey),g=b.parent||j,a(e=="msie"?document:window).bind("keydown",q).bind("keyup",r),a(g).bind("click",function(){a(this)[i](h)}).attr("data-kchint","Press ["+p[d]+"] to hide tooltips.")},os:d,browser:e}}(window.KEYCANDY_DOM_LIB||window.$)