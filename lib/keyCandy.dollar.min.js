KeyCandy=function(a,b){var c=navigator.userAgent,d=/Linux|Windows|Macintosh/.exec(c).toString().toLowerCase(),e=c.indexOf("WebKit")>-1?"webkit":/Gecko|MSIE|Opera/.exec(c).toString().toLowerCase(),f={macintosh:91,linux:17,windows:17},g,h="keycandy",i="removeClass",j="body",k=f[d]?f[d]:17,l=!1,m={"⇧":16,shift:16,option:18,"⌥":18,alt:18,ctrl:17,control:17,command:91,"⌘":91},n="alt",o={16:!1,17:!1,18:!1,91:!1},p={windows:"ctrl",linux:"ctrl",macintosh:String.fromCharCode(parseInt("2318",16))},q=function(c){var d=c.target,f=a(g||j),p=d.tagName.toLowerCase(),q=a(d),r=c.keyCode,s=o[k]||!l,t=r>47&&r<58||r>64&&r<91||r>96&&r<123,u=t?'[accesskey="'+String.fromCharCode(r)+'"]':null,v=u?a(u):null,w,x,y=function(a){var b=!1;if(document.createEvent){var c=document.createEvent("MouseEvents");c.initMouseEvent("click",!0,!0,window,0,0,0,0,0,!1,!1,!1,!1,0,null),b=!a.dispatchEvent(c)}else a.fireEvent&&(b=!a.fireEvent("onclick"));!b&&a.href&&(window.location=a.href)};if(r==93||r==224)r=91;r==17&&window.opera&&k==91&&c.ctrlKey===!1&&(r=91),o[r]!==b&&(o[r]=!0),x=(/^(sel|tex)/.test(p)||p==="input"&&/^(tex|pas|ema|sea|tel|url|dat)/.test(d.type))&&!o[m[n]];if(r===k&&!x)f.toggleClass(h);else if(s&&!x){if(t&&v.length){v=v.is("label")?a("#"+v.attr("for")):v;var z=v[0],A=z.tagName.toLowerCase(),B=v.is(":text, :password, textarea, select")?"focus":"click";A=="a"&&z.href?y(z):A=="select"&&e=="gecko"&&p!="select"&&function(a,b){setTimeout(function(){a.selectedIndex=b},0)}(z,z.selectedIndex),c.stopPropagation(),c.preventDefault(),v.trigger(B)}f[i](h)}},r=function(a){var b=a.keyCode;if(b==93||b==224)b=91;window.opera&&b==17&&a.ctrlKey===!1&&(b=91),b in o&&(o[b]=!1)};return{version:"1.0",init:function(b){b||(b={}),b.ctrlKey&&(k=b.ctrlKey),b.reqCtrlKey&&(l=b.reqCtrlKey),b.modKey&&m[b.modKey]&&(n=b.modKey),g=b.parent||j,a(e=="msie"?document:window).bind("keydown",q).bind("keyup",r),a(g).bind("click",function(){a(this)[i](h)}).attr("data-kchint","Press ["+p[d]+"] to hide tooltips.")},os:d,browser:e}}(window.KEYCANDY_DOM_LIB||window.$)