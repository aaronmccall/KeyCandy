/*! (c) 2011 Aaron McCall. MIT license (see http://creativecommons.org/licenses/MIT/). */
var gobSmack=function(){var a=function(a){return Array.prototype.slice.call(a)},b=function(b,c){return"bind"in c&&typeof c.bind=="function"?c.bind(b):function(){c.apply(b,a(arguments))}},c=function(a){return new e(a)},d=function(a){return new RegExp("\\b"+a+"\\b")},e=function(b){if(typeof b=="string"){this.el=document.querySelectorAll(b),this.length=this.el.length,this.el.length==1&&(this.el=a(this.el).pop(),this[0]=this.el);for(var c=0,d=a(this.el),e=d.length;c<e;c++)this[c]=d[c]}else if(b.nodeType||b===window||b===document)this.el=this[0]=b,this.length=1},f=e.prototype;return f.is=function(a){var b=!1,c;if(a.indexOf(",")>=0){c=a.split(/,\s*/g);for(var d=0,e=c.length;d<e;d++){if(c[d].toLowerCase()===this.el.tagName.toLowerCase())return!0;if(c[d].indexOf(":")==0&&c[d].substr(1).toLowerCase()===this.el.type)return!0}}return a.toLowerCase()===this.el.tagName.toLowerCase()},f.bind=function(a,c){var d=this.el,e=this._adder||(this._adder=d.addEventListener?d.addEventListener:d.attachEvent,this._adder),f=[],g=f[0]=e===d.attachEvent?"on"+a:a,h=f[1]=b(d,c);g.indexOf("on")!==0&&f.push(!0);if(this.length===1)e.apply(this.el,f);else for(var i=0;i<this.length;i++)e.apply(this[i],args);return this},f.hasClass=function(a){return this.el.className.indexOf(a)>-1},f.addClass=function(a){var b;return d(a).test(this.el.className)||(b=this.el.className.split(/\s+/g),this.el.className+=" "+a),this},f.removeClass=function(a){return this.el.className=this.el.className.replace(d(a),""),this},f.toggleClass=function(a){this.hasClass(a)?this.removeClass(a):this.addClass(a)},f.keydown=function(a){this.bind("keydown",a)},f.click=function(a){this.bind("click",a)},f.trigger=function(a){a in this.el&&this.el[a]()},c}();KeyCandy=function(a){var b=navigator.userAgent,c=/Linux|Windows|Macintosh/.exec(b).toString().toLowerCase(),d=b.indexOf("WebKit")>-1?"webkit":/Gecko|MSIE|Opera/.exec(b).toString().toLowerCase(),e={macintosh:{webkit:91,gecko:224}},f,g="keycandy",h="removeClass",i="body",j=e[c]&&e[c][d]?e[c][d]:17,k=!1,l={alt:"alt",ctrl:"ctrl",meta:"meta",shift:"shift"},m="alt";return{version:"1.0RC",init:function(b){b||(b={}),b.ctrlKey&&(j=b.ctrlKey),b.reqCtrlKey&&(k=b.reqCtrlKey),b.modKey&&l[b.modKey]&&(m=b.modKey),f=b.parent||i,a(d=="msie"?document:window).keydown(function(b){var c=e?a(e):a(i),e=b.target,f=e.tagName.toLowerCase(),n=a(e),o=b.keyCode,p=o===j,q=c.hasClass(g)||!k,r=o>46&&o<91,s=r?'[accesskey="'+String.fromCharCode(o)+'"]':null,t=s?a(s):null,u,v=(/^(sel|tex)/.test(f)||f==="input"&&/^(tex|pas|ema|sea|tel|url)/.test(e.type)>-1)&&!b[l[m]+"Key"];if(p&&!v)c.toggleClass(g);else if(q&&!v){if(r&&t.length){t=t.is("label")?a("#"+t[0].htmlFor):t;var w=t.is(":text, :password, textarea, select")?"focus":"click";t[0].tagName.toLowerCase()=="a"?t.one("click",function(){this.href&&(location.href=this.href)}):t[0].tagName.toLowerCase()=="select"&&d=="gecko"&&f!="select"&&(u=t[0].selectedIndex,function(){var a=u,b=t[0];setTimeout(function(){b.selectedIndex=a},0)}()),b.preventDefault(),b.stopPropagation(),t.trigger(w)}c[h](g)}}),a(f).click(function(){a(this)[h](g)})},os:c,browser:d}}(gobSmack);