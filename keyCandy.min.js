/*
 * Key Candy makes your web app melt in your hands not on your mouse!
 * Provides tooltips for elements with accesskey attributes and focuses/activates
 * elements with an accesskey in a standardized, cross-browser, cross-platform way.
 *//*! (c) 2011 Aaron McCall. 
 *  Contributors: Beau Sorenson
 *  MIT license (see http://creativecommons.org/licenses/MIT/). 
 *///function e(){ return (typeof exports === 'undefined') ? ((typeof window === 'undefined)?this:window) : exports }
KeyCandy=function(a){var b=navigator.userAgent,c=/Linux|Windows|Macintosh/.exec(b).toString().toLowerCase(),d=b.indexOf("WebKit")>-1?"webkit":/Gecko|MSIE|Opera/.exec(b).toString().toLowerCase(),e={macintosh:91,linux:17,windows:17},f,g="keycandy",h="removeClass",i="body",j=e[c]?e[c]:17,k=!1,l={"⇧":16,shift:16,option:18,"⌥":18,alt:18,ctrl:17,control:17,command:91,"⌘":91},m="alt",n={16:!1,17:!1,18:!1,91:!1},o={windows:"ctrl",linux:"ctrl",macintosh:"&#x2318;"},p={windows:"ctrl",linux:"ctrl",macintosh:String.fromCharCode(parseInt("2318",16))},q=function(b){var c=e?a(e):a(i),e=b.target,f=e.tagName.toLowerCase(),o=a(e),p=b.keyCode,q=c.hasClass(g)||!k,r=p>46&&p<91,s=r?'[accesskey="'+String.fromCharCode(p)+'"]':null,t=s?a(s):null,u,v,w=function(a){var b=!1;if(document.createEvent){var c=document.createEvent("MouseEvents");c.initMouseEvent("click",!0,!0,window,0,0,0,0,0,!1,!1,!1,!1,0,null),b=!a.dispatchEvent(c)}else a.fireEvent&&(b=!a.fireEvent("onclick"));b||(window.location=a.href)};if(p==93||p==224)p=91;p==17&&window.opera&&j==91&&b.ctrlKey===!1&&(p=91),p in n&&(n[p]=!0),v=(/^(sel|tex)/.test(f)||f==="input"&&/^(tex|pas|ema|sea|tel|url|dat)/.test(e.type))&&!n[l[m]];if(p===j&&!v)c.toggleClass(g);else if(q&&!v){if(r&&t.length){t=t.is("label")?a("#"+t.attr("for")):t;var x=t[0],y=x.tagName.toLowerCase(),z=t.is(":text, :password, textarea, select")?"focus":"click";y=="a"&&x.href?w(x):y=="select"&&d=="gecko"&&f!="select"&&function(a,b){setTimeout(function(){a.selectedIndex=b},0)}(x,x.selectedIndex),b.stopPropagation(),b.preventDefault(),t.trigger(z)}c[h](g)}},r=function(a){var b=a.keyCode;if(b==93||b==224)b=91;window.opera&&b==17&&a.ctrlKey===!1&&(b=91),b in n&&(n[b]=!1)};return{version:"1.0RC",init:function(b){b||(b={}),b.ctrlKey&&(j=b.ctrlKey),b.reqCtrlKey&&(k=b.reqCtrlKey),b.modKey&&l[b.modKey]&&(m=b.modKey),f=b.parent||i,a(d=="msie"?document:window).bind("keydown",q).bind("keyup",r),a(f).bind("click",function(){a(this)[h](g)}).attr("data-kchint","Press ["+p[KeyCandy.os]+"] to hide tooltips."),a("#controlKey").html(o[KeyCandy.os])},os:c,browser:d}}(window.jQuery)