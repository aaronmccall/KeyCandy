/*! (c) 2011 Aaron McCall. MIT license (see http://creativecommons.org/licenses/MIT/). */
KeyCandy=function(a){var b={},c=/Linux|Windows|Macintosh/.exec(navigator.userAgent).toString(),d,e="keycandy",f="removeClass",g="hasClass",h="body",i=c==="Macintosh"?224:17,j=!1,k={alt:1,ctrl:1,meta:1,shift:1},l="alt";return{version:"0.8",init:function(b,c){c||(c={}),c.ctrlKey&&(i=c.ctrlKey),c.reqCtrlKey&&(j=c.reqCtrlKey),c.overrideKey&&k[c.overrideKey]&&(l=c.overrideKey),d=b||h,a(window).bind("keydown",function(b){var c=d?a(d):a(h),d=b.target,k=d.tagName.toLowerCase(),m=a(d),n=b.keyCode,o=n===i,p=c[g](e)||!j,q=n>46&&n<91,r=(k==="textarea"||k==="input"&&/text|password|email|search|tel|url/.test(d.type)>-1)&&!b[l+"Key"];if(o&&!r)c.toggleClass(e);else if(p&&!r){if(q&&q){var s='[accesskey="'+String.fromCharCode(n)+'"]',t=a(s);if(t.length){t=t.is("label")?a("#"+t.attr("for")):t;var u=t.is(":text, :password, textarea, select")?"focus":"click";t.is("a")&&t.one("click",function(){this.href&&(location.href=this.href)}),t.trigger(u);return!1}}c[f](e)}}),a(d).click(function(){a(this)[f](e)})},os:c}}($||jQuery);