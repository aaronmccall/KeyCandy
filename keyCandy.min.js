/*! (c) 2011 Aaron McCall. MIT license (see http://creativecommons.org/licenses/MIT/). */
KeyCandy=function(a){var b={},c,d="keycandy",e="removeClass",f="hasClass",g="body",h=17,i=27,j=function(b){var c=j?a(j):a(g),j=b.target,k=j.tagName.toLowerCase(),l=a(j),m=b.keyCode,n=m>46&&m<91,o=k==="textarea"||k==="input"&&/text|password/.test(j.type)>-1;if(m===h&&b.type=="keydown"&&!o)c.addClass(d);else if(c[f](d)&&b.type=="keyup"&&!o)if(m==i||n){if(n){var p='[accesskey="'+String.fromCharCode(m)+'"]',q=a(p,"."+d);if(q.length){q=q.is("label")?a("#"+q.attr("for")):q;var r=q.is(":text, :password, textarea, select")?"focus":"click";q.is("a")&&q.one("click",function(){this.href&&(location.href=this.href)}),q.trigger(r)}}c[e](d)}},k=function(b,k){k||(k={}),k.controlKey&&(h=k.controlKey),k.removeKey&&(i=k.removeKey),c=b||g,a(window).bind("keydown keyup",j),a(c).click(function(){var b=a(this);b[f](d)&&b[e](d)})};b={version:"0.7",init:k};return b}($||jQuery)