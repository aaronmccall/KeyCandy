/*! (c) 2011 Aaron McCall. MIT license (see http://creativecommons.org/licenses/MIT/). */
KeyCandy=function(a){var b={},c,d="keycandy",e="removeClass",f="hasClass",g="body",h=function(b){var c=h?a(h):a(g),h=b.target,i=h.tagName.toLowerCase(),j=a(h),k=b.keyCode,l=k>46&&k<91,m=i==="textarea"||i==="input"&&/text|password/.test(h.type)>-1;if(k===17&&b.type=="keydown"&&!m)c.addClass(d);else if(c[f](d)&&b.type=="keyup"&&!m)if(k==27||l){if(l){var n='[accesskey="'+String.fromCharCode(k)+'"]',o=a(n,"."+d);if(o.length){o=o.is("label")?a("#"+o.attr("for")):o;var p=o.is(":text, :password, textarea, select")?"focus":"click";o.is("a")&&o.one("click",function(){location.href=this.href}),o.trigger(p)}}c[e](d)}},i=function(b){c=b||g,a(window).bind("keydown keyup",h),a(c).click(function(){var b=a(this);b[f](d)&&b[e](d)})};b={version:"0.6",init:i};return b}($||jQuery)