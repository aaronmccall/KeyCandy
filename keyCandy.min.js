/*! (c) 2011 Aaron McCall. MIT license (see http://creativecommons.org/licenses/MIT/). */
KeyCandy=function(a){var b=navigator.userAgent,c=/Linux|Windows|Macintosh/.exec(b).toString().toLowerCase(),d=b.indexOf("WebKit")>-1?"webkit":/Gecko|MSIE|Opera/.exec(b).toString().toLowerCase(),e={macintosh:{webkit:91,gecko:224}},f,g="keycandy",h="removeClass",i="hasClass",j="body",k=e[c]&&e[c][d]?e[c][d]:17,l=!1,m={alt:"alt",ctrl:"ctrl",meta:"meta",shift:"shift"},n="alt";return{version:"1.0RC",init:function(b){b||(b={}),b.ctrlKey&&(k=b.ctrlKey),b.reqCtrlKey&&(l=b.reqCtrlKey),b.modKey&&m[b.modKey]&&(n=b.modKey),f=b.parent||j,a(d=="msie"?document:window).bind("keydown",function(b){var c=d?a(d):a(j),d=b.target,e=d.tagName.toLowerCase(),f=a(d),o=b.keyCode,p=o===k,q=c[i](g)||!l,r=o>46&&o<91,s=(e==="textarea"||e==="input"&&/text|password|email|search|tel|url/.test(d.type)>-1)&&!b[m[n]+"Key"];if(p&&!s)c.toggleClass(g);else if(q&&!s){if(r){var t='[accesskey="'+String.fromCharCode(o)+'"]',u=a(t);if(u.length){u=u.is("label")?a("#"+u.attr("for")):u;var v=u.is(":text, :password, textarea, select")?"focus":"click";u.is("a")&&u.one("click",function(){this.href&&(location.href=this.href)}),u.trigger(v);return!1}}c[h](g)}}),a(f).click(function(){a(this)[h](g)})},os:c}}($||jQuery);