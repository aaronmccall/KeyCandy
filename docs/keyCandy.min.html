<!DOCTYPE html>  <html> <head>   <title>keyCandy.min.js</title>   <meta http-equiv="content-type" content="text/html; charset=UTF-8">   <link rel="stylesheet" media="all" href="docco.css" /> </head> <body>   <div id="container">     <div id="background"></div>            <div id="jump_to">         Jump To &hellip;         <div id="jump_wrapper">           <div id="jump_page">                                           <a class="source" href="keyCandy.html">                 keyCandy.js               </a>                                           <a class="source" href="keyCandy.min.html">                 keyCandy.min.js               </a>                        </div>         </div>       </div>          <table cellpadding="0" cellspacing="0">       <thead>         <tr>           <th class="docs">             <h1>               keyCandy.min.js             </h1>           </th>           <th class="code">           </th>         </tr>       </thead>       <tbody>                               <tr id="section-1">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-1">&#182;</a>               </div>                            </td>             <td class="code">               <div class="highlight"><pre><span class="cm">/*</span>
<span class="cm"> * Key Candy makes your web app melt in your hands not on your mouse!</span>
<span class="cm"> * Provides tooltips for elements with accesskey attributes and focuses/activates</span>
<span class="cm"> * elements with an accesskey in a standardized, cross-browser, cross-platform way.</span>
<span class="cm"> *//*! (c) 2011 Aaron McCall. </span>
<span class="cm"> *  Contributors: Beau Sorenson</span>
<span class="cm"> *  MIT license (see http://creativecommons.org/licenses/MIT/). </span>
<span class="cm"> */</span><span class="c1">//function e(){ return (typeof exports === &#39;undefined&#39;) ? ((typeof window === &#39;undefined)?this:window) : exports }</span>
<span class="nx">KeyCandy</span><span class="o">=</span><span class="kd">function</span><span class="p">(</span><span class="nx">a</span><span class="p">){</span><span class="kd">var</span> <span class="nx">b</span><span class="o">=</span><span class="nx">navigator</span><span class="p">.</span><span class="nx">userAgent</span><span class="p">,</span><span class="nx">c</span><span class="o">=</span><span class="sr">/Linux|Windows|Macintosh/</span><span class="p">.</span><span class="nx">exec</span><span class="p">(</span><span class="nx">b</span><span class="p">).</span><span class="nx">toString</span><span class="p">().</span><span class="nx">toLowerCase</span><span class="p">(),</span><span class="nx">d</span><span class="o">=</span><span class="nx">b</span><span class="p">.</span><span class="nx">indexOf</span><span class="p">(</span><span class="s2">&quot;WebKit&quot;</span><span class="p">)</span><span class="o">&gt;-</span><span class="mi">1</span><span class="o">?</span><span class="s2">&quot;webkit&quot;</span><span class="o">:</span><span class="sr">/Gecko|MSIE|Opera/</span><span class="p">.</span><span class="nx">exec</span><span class="p">(</span><span class="nx">b</span><span class="p">).</span><span class="nx">toString</span><span class="p">().</span><span class="nx">toLowerCase</span><span class="p">(),</span><span class="nx">e</span><span class="o">=</span><span class="p">{</span><span class="nx">macintosh</span><span class="o">:</span><span class="mi">91</span><span class="p">,</span><span class="nx">linux</span><span class="o">:</span><span class="mi">17</span><span class="p">,</span><span class="nx">windows</span><span class="o">:</span><span class="mi">17</span><span class="p">},</span><span class="nx">f</span><span class="p">,</span><span class="nx">g</span><span class="o">=</span><span class="s2">&quot;keycandy&quot;</span><span class="p">,</span><span class="nx">h</span><span class="o">=</span><span class="s2">&quot;removeClass&quot;</span><span class="p">,</span><span class="nx">i</span><span class="o">=</span><span class="s2">&quot;body&quot;</span><span class="p">,</span><span class="nx">j</span><span class="o">=</span><span class="nx">e</span><span class="p">[</span><span class="nx">c</span><span class="p">]</span><span class="o">?</span><span class="nx">e</span><span class="p">[</span><span class="nx">c</span><span class="p">]</span><span class="o">:</span><span class="mi">17</span><span class="p">,</span><span class="nx">k</span><span class="o">=!</span><span class="mi">1</span><span class="p">,</span><span class="nx">l</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;⇧&quot;</span><span class="o">:</span><span class="mi">16</span><span class="p">,</span><span class="nx">shift</span><span class="o">:</span><span class="mi">16</span><span class="p">,</span><span class="nx">option</span><span class="o">:</span><span class="mi">18</span><span class="p">,</span><span class="s2">&quot;⌥&quot;</span><span class="o">:</span><span class="mi">18</span><span class="p">,</span><span class="nx">alt</span><span class="o">:</span><span class="mi">18</span><span class="p">,</span><span class="nx">ctrl</span><span class="o">:</span><span class="mi">17</span><span class="p">,</span><span class="nx">control</span><span class="o">:</span><span class="mi">17</span><span class="p">,</span><span class="nx">command</span><span class="o">:</span><span class="mi">91</span><span class="p">,</span><span class="s2">&quot;⌘&quot;</span><span class="o">:</span><span class="mi">91</span><span class="p">},</span><span class="nx">m</span><span class="o">=</span><span class="s2">&quot;alt&quot;</span><span class="p">,</span><span class="nx">n</span><span class="o">=</span><span class="p">{</span><span class="mi">16</span><span class="o">:!</span><span class="mi">1</span><span class="p">,</span><span class="mi">17</span><span class="o">:!</span><span class="mi">1</span><span class="p">,</span><span class="mi">18</span><span class="o">:!</span><span class="mi">1</span><span class="p">,</span><span class="mi">91</span><span class="o">:!</span><span class="mi">1</span><span class="p">},</span><span class="nx">o</span><span class="o">=</span><span class="p">{</span><span class="nx">windows</span><span class="o">:</span><span class="s2">&quot;ctrl&quot;</span><span class="p">,</span><span class="nx">linux</span><span class="o">:</span><span class="s2">&quot;ctrl&quot;</span><span class="p">,</span><span class="nx">macintosh</span><span class="o">:</span><span class="s2">&quot;&amp;#x2318;&quot;</span><span class="p">},</span><span class="nx">p</span><span class="o">=</span><span class="p">{</span><span class="nx">windows</span><span class="o">:</span><span class="s2">&quot;ctrl&quot;</span><span class="p">,</span><span class="nx">linux</span><span class="o">:</span><span class="s2">&quot;ctrl&quot;</span><span class="p">,</span><span class="nx">macintosh</span><span class="o">:</span><span class="nb">String</span><span class="p">.</span><span class="nx">fromCharCode</span><span class="p">(</span><span class="nb">parseInt</span><span class="p">(</span><span class="s2">&quot;2318&quot;</span><span class="p">,</span><span class="mi">16</span><span class="p">))},</span><span class="nx">q</span><span class="o">=</span><span class="kd">function</span><span class="p">(</span><span class="nx">b</span><span class="p">){</span><span class="kd">var</span> <span class="nx">c</span><span class="o">=</span><span class="nx">e</span><span class="o">?</span><span class="nx">a</span><span class="p">(</span><span class="nx">e</span><span class="p">)</span><span class="o">:</span><span class="nx">a</span><span class="p">(</span><span class="nx">i</span><span class="p">),</span><span class="nx">e</span><span class="o">=</span><span class="nx">b</span><span class="p">.</span><span class="nx">target</span><span class="p">,</span><span class="nx">f</span><span class="o">=</span><span class="nx">e</span><span class="p">.</span><span class="nx">tagName</span><span class="p">.</span><span class="nx">toLowerCase</span><span class="p">(),</span><span class="nx">o</span><span class="o">=</span><span class="nx">a</span><span class="p">(</span><span class="nx">e</span><span class="p">),</span><span class="nx">p</span><span class="o">=</span><span class="nx">b</span><span class="p">.</span><span class="nx">keyCode</span><span class="p">,</span><span class="nx">q</span><span class="o">=</span><span class="nx">c</span><span class="p">.</span><span class="nx">hasClass</span><span class="p">(</span><span class="nx">g</span><span class="p">)</span><span class="o">||!</span><span class="nx">k</span><span class="p">,</span><span class="nx">r</span><span class="o">=</span><span class="nx">p</span><span class="o">&gt;</span><span class="mi">46</span><span class="o">&amp;&amp;</span><span class="nx">p</span><span class="o">&lt;</span><span class="mi">91</span><span class="p">,</span><span class="nx">s</span><span class="o">=</span><span class="nx">r</span><span class="o">?</span><span class="s1">&#39;[accesskey=&quot;&#39;</span><span class="o">+</span><span class="nb">String</span><span class="p">.</span><span class="nx">fromCharCode</span><span class="p">(</span><span class="nx">p</span><span class="p">)</span><span class="o">+</span><span class="s1">&#39;&quot;]&#39;</span><span class="o">:</span><span class="kc">null</span><span class="p">,</span><span class="nx">t</span><span class="o">=</span><span class="nx">s</span><span class="o">?</span><span class="nx">a</span><span class="p">(</span><span class="nx">s</span><span class="p">)</span><span class="o">:</span><span class="kc">null</span><span class="p">,</span><span class="nx">u</span><span class="p">,</span><span class="nx">v</span><span class="p">,</span><span class="nx">w</span><span class="o">=</span><span class="kd">function</span><span class="p">(</span><span class="nx">a</span><span class="p">){</span><span class="kd">var</span> <span class="nx">b</span><span class="o">=!</span><span class="mi">1</span><span class="p">;</span><span class="k">if</span><span class="p">(</span><span class="nb">document</span><span class="p">.</span><span class="nx">createEvent</span><span class="p">){</span><span class="kd">var</span> <span class="nx">c</span><span class="o">=</span><span class="nb">document</span><span class="p">.</span><span class="nx">createEvent</span><span class="p">(</span><span class="s2">&quot;MouseEvents&quot;</span><span class="p">);</span><span class="nx">c</span><span class="p">.</span><span class="nx">initMouseEvent</span><span class="p">(</span><span class="s2">&quot;click&quot;</span><span class="p">,</span><span class="o">!</span><span class="mi">0</span><span class="p">,</span><span class="o">!</span><span class="mi">0</span><span class="p">,</span><span class="nb">window</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="o">!</span><span class="mi">1</span><span class="p">,</span><span class="o">!</span><span class="mi">1</span><span class="p">,</span><span class="o">!</span><span class="mi">1</span><span class="p">,</span><span class="o">!</span><span class="mi">1</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="kc">null</span><span class="p">),</span><span class="nx">b</span><span class="o">=!</span><span class="nx">a</span><span class="p">.</span><span class="nx">dispatchEvent</span><span class="p">(</span><span class="nx">c</span><span class="p">)}</span><span class="k">else</span> <span class="nx">a</span><span class="p">.</span><span class="nx">fireEvent</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="nx">b</span><span class="o">=!</span><span class="nx">a</span><span class="p">.</span><span class="nx">fireEvent</span><span class="p">(</span><span class="s2">&quot;onclick&quot;</span><span class="p">));</span><span class="nx">b</span><span class="o">||</span><span class="p">(</span><span class="nb">window</span><span class="p">.</span><span class="nx">location</span><span class="o">=</span><span class="nx">a</span><span class="p">.</span><span class="nx">href</span><span class="p">)};</span><span class="k">if</span><span class="p">(</span><span class="nx">p</span><span class="o">==</span><span class="mi">93</span><span class="o">||</span><span class="nx">p</span><span class="o">==</span><span class="mi">224</span><span class="p">)</span><span class="nx">p</span><span class="o">=</span><span class="mi">91</span><span class="p">;</span><span class="nx">p</span><span class="o">==</span><span class="mi">17</span><span class="o">&amp;&amp;</span><span class="nb">window</span><span class="p">.</span><span class="nx">opera</span><span class="o">&amp;&amp;</span><span class="nx">j</span><span class="o">==</span><span class="mi">91</span><span class="o">&amp;&amp;</span><span class="nx">b</span><span class="p">.</span><span class="nx">ctrlKey</span><span class="o">===!</span><span class="mi">1</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="nx">p</span><span class="o">=</span><span class="mi">91</span><span class="p">),</span><span class="nx">p</span> <span class="k">in</span> <span class="nx">n</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="nx">n</span><span class="p">[</span><span class="nx">p</span><span class="p">]</span><span class="o">=!</span><span class="mi">0</span><span class="p">),</span><span class="nx">v</span><span class="o">=</span><span class="p">(</span><span class="sr">/^(sel|tex)/</span><span class="p">.</span><span class="nx">test</span><span class="p">(</span><span class="nx">f</span><span class="p">)</span><span class="o">||</span><span class="nx">f</span><span class="o">===</span><span class="s2">&quot;input&quot;</span><span class="o">&amp;&amp;</span><span class="sr">/^(tex|pas|ema|sea|tel|url|dat)/</span><span class="p">.</span><span class="nx">test</span><span class="p">(</span><span class="nx">e</span><span class="p">.</span><span class="nx">type</span><span class="p">))</span><span class="o">&amp;&amp;!</span><span class="nx">n</span><span class="p">[</span><span class="nx">l</span><span class="p">[</span><span class="nx">m</span><span class="p">]];</span><span class="k">if</span><span class="p">(</span><span class="nx">p</span><span class="o">===</span><span class="nx">j</span><span class="o">&amp;&amp;!</span><span class="nx">v</span><span class="p">)</span><span class="nx">c</span><span class="p">.</span><span class="nx">toggleClass</span><span class="p">(</span><span class="nx">g</span><span class="p">);</span><span class="k">else</span> <span class="k">if</span><span class="p">(</span><span class="nx">q</span><span class="o">&amp;&amp;!</span><span class="nx">v</span><span class="p">){</span><span class="k">if</span><span class="p">(</span><span class="nx">r</span><span class="o">&amp;&amp;</span><span class="nx">t</span><span class="p">.</span><span class="nx">length</span><span class="p">){</span><span class="nx">t</span><span class="o">=</span><span class="nx">t</span><span class="p">.</span><span class="nx">is</span><span class="p">(</span><span class="s2">&quot;label&quot;</span><span class="p">)</span><span class="o">?</span><span class="nx">a</span><span class="p">(</span><span class="s2">&quot;#&quot;</span><span class="o">+</span><span class="nx">t</span><span class="p">.</span><span class="nx">attr</span><span class="p">(</span><span class="s2">&quot;for&quot;</span><span class="p">))</span><span class="o">:</span><span class="nx">t</span><span class="p">;</span><span class="kd">var</span> <span class="nx">x</span><span class="o">=</span><span class="nx">t</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span><span class="nx">y</span><span class="o">=</span><span class="nx">x</span><span class="p">.</span><span class="nx">tagName</span><span class="p">.</span><span class="nx">toLowerCase</span><span class="p">(),</span><span class="nx">z</span><span class="o">=</span><span class="nx">t</span><span class="p">.</span><span class="nx">is</span><span class="p">(</span><span class="s2">&quot;:text, :password, textarea, select&quot;</span><span class="p">)</span><span class="o">?</span><span class="s2">&quot;focus&quot;</span><span class="o">:</span><span class="s2">&quot;click&quot;</span><span class="p">;</span><span class="nx">y</span><span class="o">==</span><span class="s2">&quot;a&quot;</span><span class="o">&amp;&amp;</span><span class="nx">x</span><span class="p">.</span><span class="nx">href</span><span class="o">?</span><span class="nx">w</span><span class="p">(</span><span class="nx">x</span><span class="p">)</span><span class="o">:</span><span class="nx">y</span><span class="o">==</span><span class="s2">&quot;select&quot;</span><span class="o">&amp;&amp;</span><span class="nx">d</span><span class="o">==</span><span class="s2">&quot;gecko&quot;</span><span class="o">&amp;&amp;</span><span class="nx">f</span><span class="o">!=</span><span class="s2">&quot;select&quot;</span><span class="o">&amp;&amp;</span><span class="kd">function</span><span class="p">(</span><span class="nx">a</span><span class="p">,</span><span class="nx">b</span><span class="p">){</span><span class="nx">setTimeout</span><span class="p">(</span><span class="kd">function</span><span class="p">(){</span><span class="nx">a</span><span class="p">.</span><span class="nx">selectedIndex</span><span class="o">=</span><span class="nx">b</span><span class="p">},</span><span class="mi">0</span><span class="p">)}(</span><span class="nx">x</span><span class="p">,</span><span class="nx">x</span><span class="p">.</span><span class="nx">selectedIndex</span><span class="p">),</span><span class="nx">b</span><span class="p">.</span><span class="nx">stopPropagation</span><span class="p">(),</span><span class="nx">b</span><span class="p">.</span><span class="nx">preventDefault</span><span class="p">(),</span><span class="nx">t</span><span class="p">.</span><span class="nx">trigger</span><span class="p">(</span><span class="nx">z</span><span class="p">)}</span><span class="nx">c</span><span class="p">[</span><span class="nx">h</span><span class="p">](</span><span class="nx">g</span><span class="p">)}},</span><span class="nx">r</span><span class="o">=</span><span class="kd">function</span><span class="p">(</span><span class="nx">a</span><span class="p">){</span><span class="kd">var</span> <span class="nx">b</span><span class="o">=</span><span class="nx">a</span><span class="p">.</span><span class="nx">keyCode</span><span class="p">;</span><span class="k">if</span><span class="p">(</span><span class="nx">b</span><span class="o">==</span><span class="mi">93</span><span class="o">||</span><span class="nx">b</span><span class="o">==</span><span class="mi">224</span><span class="p">)</span><span class="nx">b</span><span class="o">=</span><span class="mi">91</span><span class="p">;</span><span class="nb">window</span><span class="p">.</span><span class="nx">opera</span><span class="o">&amp;&amp;</span><span class="nx">b</span><span class="o">==</span><span class="mi">17</span><span class="o">&amp;&amp;</span><span class="nx">a</span><span class="p">.</span><span class="nx">ctrlKey</span><span class="o">===!</span><span class="mi">1</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="nx">b</span><span class="o">=</span><span class="mi">91</span><span class="p">),</span><span class="nx">b</span> <span class="k">in</span> <span class="nx">n</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="nx">n</span><span class="p">[</span><span class="nx">b</span><span class="p">]</span><span class="o">=!</span><span class="mi">1</span><span class="p">)};</span><span class="k">return</span><span class="p">{</span><span class="nx">version</span><span class="o">:</span><span class="s2">&quot;1.0RC&quot;</span><span class="p">,</span><span class="nx">init</span><span class="o">:</span><span class="kd">function</span><span class="p">(</span><span class="nx">b</span><span class="p">){</span><span class="nx">b</span><span class="o">||</span><span class="p">(</span><span class="nx">b</span><span class="o">=</span><span class="p">{}),</span><span class="nx">b</span><span class="p">.</span><span class="nx">ctrlKey</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="nx">j</span><span class="o">=</span><span class="nx">b</span><span class="p">.</span><span class="nx">ctrlKey</span><span class="p">),</span><span class="nx">b</span><span class="p">.</span><span class="nx">reqCtrlKey</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="nx">k</span><span class="o">=</span><span class="nx">b</span><span class="p">.</span><span class="nx">reqCtrlKey</span><span class="p">),</span><span class="nx">b</span><span class="p">.</span><span class="nx">modKey</span><span class="o">&amp;&amp;</span><span class="nx">l</span><span class="p">[</span><span class="nx">b</span><span class="p">.</span><span class="nx">modKey</span><span class="p">]</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="nx">m</span><span class="o">=</span><span class="nx">b</span><span class="p">.</span><span class="nx">modKey</span><span class="p">),</span><span class="nx">f</span><span class="o">=</span><span class="nx">b</span><span class="p">.</span><span class="nx">parent</span><span class="o">||</span><span class="nx">i</span><span class="p">,</span><span class="nx">a</span><span class="p">(</span><span class="nx">d</span><span class="o">==</span><span class="s2">&quot;msie&quot;</span><span class="o">?</span><span class="nb">document</span><span class="o">:</span><span class="nb">window</span><span class="p">).</span><span class="nx">bind</span><span class="p">(</span><span class="s2">&quot;keydown&quot;</span><span class="p">,</span><span class="nx">q</span><span class="p">).</span><span class="nx">bind</span><span class="p">(</span><span class="s2">&quot;keyup&quot;</span><span class="p">,</span><span class="nx">r</span><span class="p">),</span><span class="nx">a</span><span class="p">(</span><span class="nx">f</span><span class="p">).</span><span class="nx">bind</span><span class="p">(</span><span class="s2">&quot;click&quot;</span><span class="p">,</span><span class="kd">function</span><span class="p">(){</span><span class="nx">a</span><span class="p">(</span><span class="k">this</span><span class="p">)[</span><span class="nx">h</span><span class="p">](</span><span class="nx">g</span><span class="p">)}).</span><span class="nx">attr</span><span class="p">(</span><span class="s2">&quot;data-kchint&quot;</span><span class="p">,</span><span class="s2">&quot;Press [&quot;</span><span class="o">+</span><span class="nx">p</span><span class="p">[</span><span class="nx">KeyCandy</span><span class="p">.</span><span class="nx">os</span><span class="p">]</span><span class="o">+</span><span class="s2">&quot;] to hide tooltips.&quot;</span><span class="p">),</span><span class="nx">a</span><span class="p">(</span><span class="s2">&quot;#controlKey&quot;</span><span class="p">).</span><span class="nx">html</span><span class="p">(</span><span class="nx">o</span><span class="p">[</span><span class="nx">KeyCandy</span><span class="p">.</span><span class="nx">os</span><span class="p">])},</span><span class="nx">os</span><span class="o">:</span><span class="nx">c</span><span class="p">,</span><span class="nx">browser</span><span class="o">:</span><span class="nx">d</span><span class="p">}}(</span><span class="nb">window</span><span class="p">.</span><span class="nx">jQuery</span><span class="p">)</span>

</pre></div>             </td>           </tr>                </tbody>     </table>   </div> </body> </html> 